su - postgres
createdb dbname
psql
CREATE USER admin WITH PASSWORD 'password';
GRANT ALL PRIVILEGES ON DATABASE dbname to admin;


########## remote access
nvim /etc/postgresql/9.5/main/pg_hba.conf
host    all             all              0.0.0.0/0             md5

nvim /etc/postgresql/9.5/main/postgresql.conf
listen_addresses = '*'

systemctl restart postgresql


######### connect remote
psql -h hostname -U admin -d dbname

##### export
psql dbname > dbname.sql


## readonly user
-- Create a group
CREATE ROLE readaccess;

-- Grant access to existing tables
GRANT USAGE ON SCHEMA public TO readaccess;
GRANT SELECT ON ALL TABLES IN SCHEMA public TO readaccess;

-- Grant access to future tables
ALTER DEFAULT PRIVILEGES IN SCHEMA public GRANT SELECT ON TABLES TO readaccess;

-- Create a final user with password
CREATE USER tomek WITH PASSWORD 'secret';
GRANT readaccess TO tomek;
